<%! from django.utils.translation import ugettext as _ %>
<div class="field comp-subtitles-entry" id="comp-subtitles-${component_location}"></div>

<script type="text/javascript" src="/static/coffee/src/views/videoalpha/subtitles_import.js"></script>

<script id="subtitles-import-variants-tpl" type="text/template">
    <ul class="comp-import-variants">
        <li>
            <a href="#" class="orange-button">${_("Upload from file")}</a>
        </li>
        <li>
           <a href="#" id="import-from-youtube" class="orange-button">${_("Import from Youtube")}</a>
        </li>
    </ul>
</script>

<script id="subtitles-message-warn-tpl" type="text/template">
    <div class="message-warn">
        <p>If subtitles for the video already exist, importing again will overwrite them.</p>
        <p>Are you sure that you want to import the subtitle file
        found on YouTube?</p>
        <div class="row message-actions">
            <a href="#" class="orange-button import-true-button">Yes</a>
            <a href="#" class="orange-button import-cancel-button">No</a>
        </div>
    </div>
</script>

<script id="subtitles-message-success-tpl" type="text/template">
    <div class="message-success">
        <p>Subtitles were successfully imported.</p>
        <div class="row message-actions">
            <a href="#" class="orange-button import-ok-button">${_("Ok")}</a>
        </div>
    </div>
</script>

<script id="subtitles-message-error-tpl" type="text/template">
    <div class="message-error">
        <p>Import failed!</p>
        <div class="row message-actions">
            <a href="#" class="orange-button import-ok-button">${_("Ok")}</a>
        </div>
    </div>
</script>

<script id="subtitles-message-wait-tpl" type="text/template">
    <div class="message-wait">
        <p>Please wait while import will be finished</p>
    </div>
</script>


<script type='text/javascript'>
    $(document).ready(function(){
        new CMS.Views.SubtitlesImport({
            el: $('#comp-subtitles-${component_location}'),
            tpl: {
                warn: _.template($('#subtitles-message-warn-tpl').text()),
                success: _.template($('#subtitles-message-success-tpl').text()),
                error: _.template($('#subtitles-message-error-tpl').text()),
                wait: _.template($('#subtitles-message-wait-tpl').text()),
                variants: _.template($('#subtitles-import-variants-tpl').text())
            }
        });
    });

</script>